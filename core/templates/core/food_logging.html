<!DOCTYPE html>
{% load static %}
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Food Logging</title>
    <link href='https://unpkg.com/boxicons@2.0.9/css/boxicons.min.css' rel='stylesheet'>
    <link rel="stylesheet" href="{% static 'styles/food_logging.css' %}"/>
</head>
<body>
<div class="global-container">
    <aside class="sidebar">
        <ul class="nav-links">
            <li class="nav-link">
                <a href="{% url 'dashboard' %}">
                    <img src="{% static 'images/SVGs/Home Vector Icon.svg' %}" alt="Dashboard">
                    <span>Dashboard</span>
                </a>
            </li>
            <li class="nav-link">
                <a href="{% url 'water_logging' %}" class="active">
                    <img src="{% static 'images/SVGs/Water Bottle Icon.svg' %}" alt="Water">
                    <span>Log Water</span>
                </a>
            </li>
            <li class="nav-link">
                <a href="{% url 'food_logging' %}">
                    <img src="{% static 'images/SVGs/Pasta SVG Icon.svg' %}" alt="Food">
                    <span>Log Food</span>
                </a>
            </li>
            <li class="nav-link">
                <a href="#Map">
                    <img src="{% static 'images/SVGs/Map SVG Icon.svg' %}" alt="Food">
                    <span>Store Map</span>
                </a>
            </li>
        </ul>
    </nav>
    </aside>

    <main class="main-content">
        <header class="main-header">
            <nav class="right-nav">
                <span class="divider"></span>
                <div class="profile">
                    <img src="https://images.unsplash.com/photo-1517841905240-472988babdf9" alt="">
                    <ul class="profile-link">
                        <li><a href="#"><i class='bx bxs-user-circle icon'></i> Profile</a></li>
                        <li><a href="#"><i class='bx bxs-cog'></i> Settings</a></li>
                        <li><a href="{% url 'index' %}"><i class='bx bxs-log-out-circle'></i> Logout</a></li>
                    </ul>
                </div>
            </nav>
        </header>

        <div class="tracker-container">
            <h1>Daily Food Intake Tracker</h1>
            <div class="chart-intake">
                <h2 id="currentDate">Today</h2>
                <div class="donut-chart">
                    <div class="progress-ring">
                        <div class="progress">
                            <svg width="250" height="250">
                                <circle class="progress-ring-circle-bg" cx="125" cy="125" r="100"></circle>
                                <circle class="progress-ring-circle" cx="125" cy="125" r="100"></circle>
                            </svg>
                        </div>
                        <div class="progress-text">
                            <span id="current-intake">0</span>
                            <span class="unit">cal</span>
                            <div class="target">Calories Limit: 2,000</div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="add-food">
                <h2>Add Food & Number of Calories</h2>
                <form id="food-form" method="post" action="{% url 'food_logging' %}">
                    {% csrf_token %}
                    <input type="text" name="food_name" placeholder="Food Name" required>
                    <input type="number" name="calories" placeholder="Calories" required>
                    <button type="submit">Add Food</button>
                </form>
            </div>

            <div class="history">
                <h2>Today's Log</h2>
                <div id="food-log">
                    {% for entry in food_entries %}
                        <div class="log-entry">
                            <span>{{ entry.food_name }} - {{ entry.calories }} cal</span>
                        </div>
                    {% empty %}
                        <p>No food logged yet.</p>
                    {% endfor %}
                </div>
            </div>
            <button id="reset" class="reset-btn">Reset Day</button>
        </div>
    </main>
</div>
<script src="{% static 'scripts/food_logging.js' %}"></script>
</body>
</html>
